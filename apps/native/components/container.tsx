import { cn } from "heroui-native";
import { useThemeColor } from "heroui-native";
import { type PropsWithChildren } from "react";
import { ScrollView, View, type ViewProps } from "react-native";
import Animated, { type AnimatedProps } from "react-native-reanimated";
import { useSafeAreaInsets } from "react-native-safe-area-context";

const AnimatedView = Animated.createAnimatedComponent(View);

type Props = AnimatedProps<ViewProps> & {
	className?: string;
};

export function Container({
	children,
	className,
	...props
}: PropsWithChildren<Props>) {
	const insets = useSafeAreaInsets();
	const backgroundColor = useThemeColor("background");

	return (
		<AnimatedView
			className={cn("flex-1 bg-neutral-950", className)}
			style={{
				paddingBottom: insets.bottom,
			}}
			{...props}
		>
			<ScrollView 
				className="flex-1"
				style={{ backgroundColor }}
				contentContainerStyle={{ flexGrow: 1 }}
			>
				{children}
			</ScrollView>
		</AnimatedView>
	);
}
